{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdcju\\\\Desktop\\\\100xJackpotNew\\\\frontend\\\\src\\\\app.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Web3 from 'web3';\nimport JackpotGameABI from './abi/JackpotGame.json';\nimport Token100xABI from './abi/Token100x.json';\nimport BondingCurveABI from './abi/BondingCurve.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // State variables\n  const [nextJackpotValue, setNextJackpotValue] = useState('0');\n  const [guessCost, setGuessCost] = useState('0');\n  const [web3, setWeb3] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  const [jackpotContract, setJackpotContract] = useState(null);\n  const [tokenContract, setTokenContract] = useState(null);\n  const [bondingCurveContract, setBondingCurveContract] = useState(null);\n  const [currentGuess, setCurrentGuess] = useState('');\n  const [guessChance, setGuessChance] = useState('0');\n  const [jackpotValue, setJackpotValue] = useState('0');\n  const [hintValue, setHintValue] = useState('');\n  const [liquidityValue, setLiquidityValue] = useState('0');\n  const [tokenPrice, setTokenPrice] = useState('0');\n  const [numTokens, setNumTokens] = useState('1');\n  const [totalSupply, setTotalSupply] = useState('0');\n  const [buySellMode, setBuySellMode] = useState('buy');\n  const [hintCost, setHintCost] = useState('0');\n  const [tokenBalance, setTokenBalance] = useState('0');\n  const [uniquePlayers, setUniquePlayers] = useState(0);\n  const [totalWinners, setTotalWinners] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [purchasedHints, setPurchasedHints] = useState([]);\n  const JACKPOT_ADDRESS = process.env.REACT_APP_JACKPOT_ADDRESS || '0x1bCb1B4474b636874E1C35B0CC32ADb408bb43e0';\n  const TOKEN_ADDRESS = process.env.REACT_APP_TOKEN_ADDRESS || '0x0755fb9917419a08c90a0Fd245F119202844ec3D';\n  const BONDING_CURVE_ADDRESS = process.env.REACT_APP_BONDING_CURVE_ADDRESS || '0x2ECA93adD34C533008b947B2Ed02e4974122D525';\n\n  // Format address for display\n  const formatAddress = address => {\n    if (!address || address === '0x0000000000000000000000000000000000000000') return 'None';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n\n  // Format large numbers properly\n  const formatTokenAmount = amount => {\n    if (!amount || amount === '0') return '0';\n    try {\n      // Convert from base units to tokens (6 decimals)\n      const amountStr = amount.toString(); // Ensure we have a string\n      const amountBN = new Web3.utils.BN(amountStr);\n      const tokenAmount = amountBN.div(new Web3.utils.BN(10 ** 6));\n      const parsedAmount = parseFloat(tokenAmount.toString());\n\n      // Format for very large numbers\n      if (parsedAmount >= 1000000000) {\n        const billionsAmount = parsedAmount / 1000000000;\n        return `${billionsAmount.toLocaleString(undefined, {\n          maximumFractionDigits: 0\n        })}B`;\n      } else if (parsedAmount >= 1000000) {\n        const millionsAmount = parsedAmount / 1000000;\n        return `${millionsAmount.toLocaleString(undefined, {\n          maximumFractionDigits: 0\n        })}M`;\n      } else if (parsedAmount >= 1000) {\n        const thousandsAmount = parsedAmount / 1000;\n        return `${thousandsAmount.toLocaleString(undefined, {\n          maximumFractionDigits: 0\n        })}k`;\n      } else {\n        return parsedAmount.toLocaleString(undefined, {\n          maximumFractionDigits: 6\n        });\n      }\n    } catch (error) {\n      console.error('Error formatting token amount:', error, 'Input:', amount);\n      return '0';\n    }\n  };\n  // Add this function to fetch hint content from the API\n  const getHintContent = useCallback(async (hintIndex, userAddress) => {\n    try {\n      const response = await fetch(`/.netlify/functions/getHint?hintIndex=${hintIndex}&userAddress=${userAddress}`);\n      if (response.ok) {\n        const data = await response.json();\n        return data.hintContent;\n      } else {\n        const error = await response.json();\n        console.error(\"Error fetching hint:\", error);\n        return \"Error retrieving hint\";\n      }\n    } catch (error) {\n      console.error(\"Error connecting to hint API:\", error);\n      return \"Unable to connect to hint server\";\n    }\n  }, []); // Empty dependency array since it doesn't depend on external variables\n  // Updated loadPurchasedHints function\n  const loadPurchasedHints = useCallback(async () => {\n    if (!jackpotContract || !accounts[0]) return;\n    try {\n      const hintTotal = parseInt(await jackpotContract.methods.hintCount().call());\n      let purchased = [];\n\n      // Concurrent hint access checks\n      const hintAccessPromises = Array.from({\n        length: hintTotal\n      }, async (_, i) => {\n        const hasAccess = await jackpotContract.methods.hasAccessToHint(accounts[0], i).call();\n        return hasAccess ? i : null;\n      });\n      const hintAccess = await Promise.all(hintAccessPromises);\n      purchased = hintAccess.filter(index => index !== null);\n      setPurchasedHints(purchased);\n\n      // Set most recent hint if available\n      if (purchased.length > 0) {\n        const latestHintIndex = purchased[purchased.length - 1];\n        const hint = await getHintContent(latestHintIndex, accounts[0]);\n        setHintValue(hint);\n      }\n    } catch (error) {\n      console.error(\"Error loading purchased hints:\", error);\n    }\n  }, [jackpotContract, accounts, getHintContent]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const loadContractData = useCallback(async (web3, jackpot, token, bondingCurve, account) => {\n    try {\n      setIsLoading(true);\n      setStatusMessage('Loading contract data...');\n\n      // Use Promise.all for concurrent calls\n      const [tokenBalance, tokenSupply, jackpotValue, nextJackpotValue, guessCost, hintCost, totalWinners, uniquePlayers] = await Promise.all([token.methods.balanceOf(account).call(), token.methods.totalSupply().call(), jackpot.methods.jackpotAmount().call(), jackpot.methods.nextJackpotAmount().call(), jackpot.methods.guessCost().call(), jackpot.methods.hintCost().call(), jackpot.methods.totalWinners().call(), jackpot.methods.uniquePlayers().call()]);\n\n      // Simplified state updates with less formatting\n      setTokenBalance(tokenBalance);\n      setTotalSupply(tokenSupply);\n\n      // Simplified jackpot value handling\n      setJackpotValue(web3.utils.fromWei(jackpotValue, 'ether'));\n      setNextJackpotValue(web3.utils.fromWei(nextJackpotValue, 'ether'));\n\n      // Direct conversion of token amounts\n      setGuessCost((window.BigInt(guessCost) / window.BigInt(10 ** 6)).toString());\n      setHintCost((window.BigInt(hintCost) / window.BigInt(10 ** 6)).toString());\n      setTotalWinners(totalWinners);\n      setUniquePlayers(uniquePlayers);\n\n      // Optional: Simplified bonding curve data (if needed)\n      try {\n        const poolInfo = await bondingCurve.methods.getPoolInfo().call();\n        setLiquidityValue(web3.utils.fromWei(poolInfo.actualS, 'ether'));\n        const currentPriceWei = await bondingCurve.methods.getCurrentPrice().call();\n        setTokenPrice(web3.utils.fromWei(currentPriceWei, 'ether'));\n      } catch (err) {\n        console.warn(\"Bonding curve data fetch failed:\", err);\n      }\n      setStatusMessage('');\n    } catch (error) {\n      console.error(\"Contract data loading error:\", error);\n      setStatusMessage('Error loading data. Check connection.');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  const buyTokens = async () => {\n    if (!bondingCurveContract || !web3 || !accounts[0] || !numTokens) {\n      setStatusMessage('Please connect wallet and enter token amount');\n      return;\n    }\n\n    // Convert input to base units (directly use the input)\n    const numTokensBaseUnits = Math.floor(parseFloat(numTokens));\n    try {\n      setIsLoading(true);\n      setStatusMessage('Calculating token price...');\n\n      // Calculate buy price from the contract\n      const costWei = await bondingCurveContract.methods.calculateBuyPrice(numTokensBaseUnits).call();\n\n      // Log for debugging\n      console.log('Num Tokens (Base Units):', numTokensBaseUnits);\n      console.log('Cost (Wei):', costWei);\n      console.log('Cost (Ether):', web3.utils.fromWei(costWei, 'ether'));\n      setStatusMessage(`Buying tokens... Please confirm in MetaMask (${web3.utils.fromWei(costWei, 'ether')} S)`);\n      await bondingCurveContract.methods.buy(numTokensBaseUnits).send({\n        from: accounts[0],\n        value: costWei\n      });\n      setStatusMessage('Tokens purchased successfully!');\n\n      // Reload contract data\n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error buying tokens:\", error);\n      setStatusMessage('Error buying tokens. Please try again.');\n      setIsLoading(false);\n    }\n  };\n  const sellTokens = async () => {\n    if (!bondingCurveContract || !web3 || !accounts[0] || !numTokens) {\n      setStatusMessage('Please connect wallet and enter token amount');\n      return;\n    }\n\n    // Convert input to base units (directly use the input)\n    const numTokensBaseUnits = Math.floor(parseFloat(numTokens));\n    try {\n      setIsLoading(true);\n      setStatusMessage('Preparing to sell tokens...');\n\n      // Check if token is approved\n      const allowance = await tokenContract.methods.allowance(accounts[0], BONDING_CURVE_ADDRESS).call();\n\n      // Calculate sell price\n      const sellPriceWei = await bondingCurveContract.methods.calculateSellPrice(numTokensBaseUnits).call();\n      console.log('Num Tokens (Base Units):', numTokensBaseUnits);\n      console.log('Sell Price (Wei):', sellPriceWei);\n      console.log('Sell Price (Ether):', web3.utils.fromWei(sellPriceWei, 'ether'));\n\n      // Check if token is approved for the correct amount\n      if (parseInt(allowance) < parseInt(web3.utils.toWei(numTokens, 'ether'))) {\n        // Approve tokens\n        setStatusMessage('Approving tokens for sale... Please confirm in MetaMask');\n        await tokenContract.methods.approve(BONDING_CURVE_ADDRESS, web3.utils.toWei(numTokens, 'ether')).send({\n          from: accounts[0]\n        });\n      }\n      setStatusMessage(`Selling tokens... Please confirm in MetaMask (${web3.utils.fromWei(sellPriceWei, 'ether')} S)`);\n      await bondingCurveContract.methods.sell(numTokensBaseUnits).send({\n        from: accounts[0]\n      });\n      setStatusMessage('Tokens sold successfully!');\n\n      // Reload contract data\n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error selling tokens:\", error);\n      setStatusMessage('Error selling tokens. Please try again.');\n      setIsLoading(false);\n    }\n  };\n  const getHint = async () => {\n    if (!jackpotContract || !web3 || !accounts[0]) {\n      setStatusMessage('Please connect wallet first');\n      return;\n    }\n    try {\n      setIsLoading(true);\n      setStatusMessage('Preparing to get hint...');\n\n      // Check if token is approved\n      const allowance = await tokenContract.methods.allowance(accounts[0], JACKPOT_ADDRESS).call();\n      const hintCostWei = await jackpotContract.methods.hintCost().call();\n      if (parseInt(allowance) < parseInt(hintCostWei)) {\n        setStatusMessage('Approving tokens for hint... Please confirm in MetaMask');\n        await tokenContract.methods.approve(JACKPOT_ADDRESS, hintCostWei).send({\n          from: accounts[0]\n        });\n      }\n      setStatusMessage('Purchasing hint... Please confirm in MetaMask');\n\n      // Request hint - this records the purchase on-chain\n      await jackpotContract.methods.requestHint().send({\n        from: accounts[0]\n      });\n\n      // Get the latest hint index\n      const hintIndex = parseInt(await jackpotContract.methods.hintCount().call()) - 1;\n\n      // Verify purchase was recorded\n      const hasAccess = await jackpotContract.methods.hasAccessToHint(accounts[0], hintIndex).call();\n      if (hasAccess) {\n        // Fetch hint from API\n        const hint = await getHintContent(hintIndex, accounts[0]);\n        setHintValue(hint);\n\n        // Cache in localStorage for offline access\n        if (hint && !hint.startsWith(\"Error\") && !hint.startsWith(\"Unable\")) {\n          localStorage.setItem(`hint_${accounts[0]}_${hintIndex}`, hint);\n        }\n\n        // Update purchased hints\n        setPurchasedHints(prev => [...prev, hintIndex]);\n        setStatusMessage('Hint purchased successfully!');\n      } else {\n        setStatusMessage('Error verifying hint purchase. Please try again.');\n      }\n\n      // Reload token balance\n      const tokenBalanceWei = await tokenContract.methods.balanceOf(accounts[0]).call();\n      setTokenBalance(tokenBalanceWei);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error getting hint:\", error);\n      setStatusMessage('Error getting hint. Please try again.');\n      setIsLoading(false);\n    }\n  };\n  const makeGuess = async () => {\n    if (!jackpotContract || !web3 || !accounts[0] || !currentGuess) {\n      setStatusMessage('Please connect your wallet and enter a guess');\n      return;\n    }\n    try {\n      var _tx$events;\n      setIsLoading(true);\n      setStatusMessage('Preparing to make a guess...');\n\n      // First approve the tokens\n      const guessCostWei = await jackpotContract.methods.guessCost().call();\n      setStatusMessage('Approving tokens for guess... Please confirm in MetaMask');\n      await tokenContract.methods.approve(JACKPOT_ADDRESS, guessCostWei).send({\n        from: accounts[0]\n      });\n      setStatusMessage('Submitting guess... Please confirm in MetaMask');\n\n      // Get the transaction receipt to check events\n      const tx = await jackpotContract.methods.singleStepGuess(currentGuess).send({\n        from: accounts[0]\n      });\n\n      // Check the return value or events\n      // Web3.js doesn't automatically decode the return value from transactions\n      // So we need to look at events or make a separate call\n\n      // Check if there's a JackpotWon event\n      const jackpotWonEvents = (_tx$events = tx.events) === null || _tx$events === void 0 ? void 0 : _tx$events.JackpotWon;\n      if (jackpotWonEvents) {\n        setStatusMessage('Congratulations! Your guess was correct! You won the jackpot!');\n      } else {\n        var _tx$events2;\n        // Look for GuessRevealed event\n        const guessEvents = (_tx$events2 = tx.events) === null || _tx$events2 === void 0 ? void 0 : _tx$events2.GuessRevealed;\n        if (guessEvents) {\n          const wasCorrect = guessEvents.returnValues.won;\n          if (wasCorrect) {\n            setStatusMessage('Congratulations! Your guess was correct! You won the jackpot!');\n          } else {\n            setStatusMessage('Sorry, your guess was incorrect. Try again!');\n          }\n        } else {\n          // If we can't determine from events, make a direct call\n          setStatusMessage('Guess submitted, but couldn\\'t determine if it was correct.');\n        }\n      }\n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error making guess:\", error);\n      setStatusMessage('Error submitting guess. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n  // Updated renderHintHistory function\n  const renderHintHistory = () => {\n    if (purchasedHints.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hint-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your Purchased Hints\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: purchasedHints.map(index => {\n          const hintKey = `hint_${accounts[0]}_${index}`;\n          const hintContent = localStorage.getItem(hintKey) || \"Loading hint...\";\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"hint-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"hint-number\",\n              children: [\"Hint #\", index + 1, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), \" \", hintContent]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 5\n    }, this);\n  };\n  useEffect(() => {\n    const initWeb3 = async () => {\n      if (window.ethereum) {\n        try {\n          setStatusMessage('Connecting to blockchain...');\n\n          // Request account access with timeout\n          const accounts = await Promise.race([window.ethereum.request({\n            method: 'eth_requestAccounts'\n          }), new Promise((_, reject) => setTimeout(() => reject(new Error('Connection timeout')), 10000))]);\n          if (accounts.length === 0) {\n            setStatusMessage('Please connect your wallet');\n            return;\n          }\n          const web3Instance = new Web3(window.ethereum);\n\n          // Initialize contracts with minimal information first\n          const jackpotInstance = new web3Instance.eth.Contract(JackpotGameABI.abi, JACKPOT_ADDRESS);\n          const tokenInstance = new web3Instance.eth.Contract(Token100xABI.abi, TOKEN_ADDRESS);\n          const bondingCurveInstance = new web3Instance.eth.Contract(BondingCurveABI.abi, BONDING_CURVE_ADDRESS);\n\n          // Set initial state\n          setWeb3(web3Instance);\n          setAccounts(accounts);\n          setJackpotContract(jackpotInstance);\n          setTokenContract(tokenInstance);\n          setBondingCurveContract(bondingCurveInstance);\n\n          // Load contract data\n          await loadContractData(web3Instance, jackpotInstance, tokenInstance, bondingCurveInstance, accounts[0]);\n        } catch (error) {\n          console.error(\"Web3 initialization error:\", error);\n          setStatusMessage(`Connection failed: ${error.message}`);\n        }\n      } else {\n        setStatusMessage('Please install a Web3 wallet like MetaMask');\n      }\n    };\n    initWeb3();\n  }, [JACKPOT_ADDRESS, TOKEN_ADDRESS, BONDING_CURVE_ADDRESS, loadContractData]);\n  useEffect(() => {\n    if (currentGuess && jackpotContract && web3 && accounts[0]) {}\n  }, [currentGuess, jackpotContract, web3, accounts]);\n  useEffect(() => {\n    if (jackpotContract && accounts.length > 0) {\n      loadPurchasedHints();\n    }\n  }, [jackpotContract, accounts, loadPurchasedHints]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"100X Jackpot Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"connected-wallet\",\n        children: [\"Connected: \", accounts.length > 0 ? formatAddress(accounts[0]) : 'Not connected']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), statusMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"status-message\",\n        children: statusMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"game-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Jackpot Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jackpot-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Current Jackpot: \", jackpotValue, \" S\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Next Jackpot: \", nextJackpotValue, \" S\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Guess Cost: \", guessCost, \" 100X\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Hint Cost: \", hintCost, \" 100X\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Unique Players: \", uniquePlayers]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Total Winners: \", totalWinners]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"guess-input\",\n            placeholder: \"Enter your guess\",\n            value: currentGuess,\n            onChange: e => setCurrentGuess(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"guess-chance\",\n            children: \"Type your guess carefully, letter case matters!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button make-guess-button\",\n            onClick: makeGuess,\n            disabled: isLoading,\n            children: \"Make Guess\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button hint-button\",\n            onClick: getHint,\n            disabled: isLoading,\n            children: \"Buy Hint\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), hintValue && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"hint-value\",\n            children: [\"Hint: \", hintValue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 27\n          }, this), renderHintHistory()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"token-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"100X Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Your Balance: \", formatTokenAmount(tokenBalance), \" 100X\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Total Supply: \", formatTokenAmount(totalSupply), \" 100X\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Current Price: \", tokenPrice, \" S\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info-item\",\n            children: [\"Liquidity Pool: \", liquidityValue, \" S\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"token-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mode-toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toggle-button ${buySellMode === 'buy' ? 'active' : ''}`,\n              onClick: () => setBuySellMode('buy'),\n              children: \"Buy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `toggle-button ${buySellMode === 'sell' ? 'active' : ''}`,\n              onClick: () => setBuySellMode('sell'),\n              children: \"Sell\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"token-amount-input\",\n            min: \"0\",\n            step: \"1\",\n            placeholder: \"Amount of tokens\",\n            value: numTokens,\n            onChange: e => setNumTokens(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this), buySellMode === 'buy' ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button buy-button\",\n            onClick: buyTokens,\n            disabled: isLoading,\n            children: \"Buy Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-button sell-button\",\n            onClick: sellTokens,\n            disabled: isLoading,\n            children: \"Sell Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"app-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"DeFAI Hackathon Project - Sonic Chain - 2024\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 478,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"VeY+CEGMRTU6fxVwgx9DxCAVx/4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Web3","JackpotGameABI","Token100xABI","BondingCurveABI","jsxDEV","_jsxDEV","App","_s","nextJackpotValue","setNextJackpotValue","guessCost","setGuessCost","web3","setWeb3","accounts","setAccounts","jackpotContract","setJackpotContract","tokenContract","setTokenContract","bondingCurveContract","setBondingCurveContract","currentGuess","setCurrentGuess","guessChance","setGuessChance","jackpotValue","setJackpotValue","hintValue","setHintValue","liquidityValue","setLiquidityValue","tokenPrice","setTokenPrice","numTokens","setNumTokens","totalSupply","setTotalSupply","buySellMode","setBuySellMode","hintCost","setHintCost","tokenBalance","setTokenBalance","uniquePlayers","setUniquePlayers","totalWinners","setTotalWinners","isLoading","setIsLoading","statusMessage","setStatusMessage","purchasedHints","setPurchasedHints","JACKPOT_ADDRESS","process","env","REACT_APP_JACKPOT_ADDRESS","TOKEN_ADDRESS","REACT_APP_TOKEN_ADDRESS","BONDING_CURVE_ADDRESS","REACT_APP_BONDING_CURVE_ADDRESS","formatAddress","address","substring","length","formatTokenAmount","amount","amountStr","toString","amountBN","utils","BN","tokenAmount","div","parsedAmount","parseFloat","billionsAmount","toLocaleString","undefined","maximumFractionDigits","millionsAmount","thousandsAmount","error","console","getHintContent","hintIndex","userAddress","response","fetch","ok","data","json","hintContent","loadPurchasedHints","hintTotal","parseInt","methods","hintCount","call","purchased","hintAccessPromises","Array","from","_","i","hasAccess","hasAccessToHint","hintAccess","Promise","all","filter","index","latestHintIndex","hint","loadContractData","jackpot","token","bondingCurve","account","tokenSupply","balanceOf","jackpotAmount","nextJackpotAmount","fromWei","window","BigInt","poolInfo","getPoolInfo","actualS","currentPriceWei","getCurrentPrice","err","warn","buyTokens","numTokensBaseUnits","Math","floor","costWei","calculateBuyPrice","log","buy","send","value","sellTokens","allowance","sellPriceWei","calculateSellPrice","toWei","approve","sell","getHint","hintCostWei","requestHint","startsWith","localStorage","setItem","prev","tokenBalanceWei","makeGuess","_tx$events","guessCostWei","tx","singleStepGuess","jackpotWonEvents","events","JackpotWon","_tx$events2","guessEvents","GuessRevealed","wasCorrect","returnValues","won","renderHintHistory","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","hintKey","getItem","initWeb3","ethereum","race","request","method","reject","setTimeout","Error","web3Instance","jackpotInstance","eth","Contract","abi","tokenInstance","bondingCurveInstance","message","type","placeholder","onChange","e","target","onClick","disabled","min","step","_c","$RefreshReg$"],"sources":["C:/Users/jdcju/Desktop/100xJackpotNew/frontend/src/app.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport Web3 from 'web3';\nimport JackpotGameABI from './abi/JackpotGame.json';\nimport Token100xABI from './abi/Token100x.json';\nimport BondingCurveABI from './abi/BondingCurve.json';\n\nconst App = () => {\n  // State variables\n  const [nextJackpotValue, setNextJackpotValue] = useState('0');\n  const [guessCost, setGuessCost] = useState('0');\n  const [web3, setWeb3] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  const [jackpotContract, setJackpotContract] = useState(null);\n  const [tokenContract, setTokenContract] = useState(null);\n  const [bondingCurveContract, setBondingCurveContract] = useState(null);\n  \n  const [currentGuess, setCurrentGuess] = useState('');\n  const [guessChance, setGuessChance] = useState('0');\n  const [jackpotValue, setJackpotValue] = useState('0');\n  const [hintValue, setHintValue] = useState('');\n  const [liquidityValue, setLiquidityValue] = useState('0');\n  const [tokenPrice, setTokenPrice] = useState('0');\n  const [numTokens, setNumTokens] = useState('1');\n  const [totalSupply, setTotalSupply] = useState('0');\n  const [buySellMode, setBuySellMode] = useState('buy');\n  const [hintCost, setHintCost] = useState('0');\n  const [tokenBalance, setTokenBalance] = useState('0');\n  const [uniquePlayers, setUniquePlayers] = useState(0);\n  const [totalWinners, setTotalWinners] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [statusMessage, setStatusMessage] = useState('');\n  const [purchasedHints, setPurchasedHints] = useState([]);\n  \n  const JACKPOT_ADDRESS = process.env.REACT_APP_JACKPOT_ADDRESS || '0x1bCb1B4474b636874E1C35B0CC32ADb408bb43e0';\n  const TOKEN_ADDRESS = process.env.REACT_APP_TOKEN_ADDRESS || '0x0755fb9917419a08c90a0Fd245F119202844ec3D';\n  const BONDING_CURVE_ADDRESS = process.env.REACT_APP_BONDING_CURVE_ADDRESS || '0x2ECA93adD34C533008b947B2Ed02e4974122D525';\n\n  // Format address for display\n  const formatAddress = (address) => {\n    if (!address || address === '0x0000000000000000000000000000000000000000') return 'None';\n    return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;\n  };\n\n  // Format large numbers properly\n  const formatTokenAmount = (amount) => {\n    if (!amount || amount === '0') return '0';\n    \n    try {\n      // Convert from base units to tokens (6 decimals)\n      const amountStr = amount.toString(); // Ensure we have a string\n      const amountBN = new Web3.utils.BN(amountStr);\n      const tokenAmount = amountBN.div(new Web3.utils.BN(10 ** 6));\n      const parsedAmount = parseFloat(tokenAmount.toString());\n\n      // Format for very large numbers\n      if (parsedAmount >= 1_000_000_000) {\n        const billionsAmount = parsedAmount / 1_000_000_000;\n        return `${billionsAmount.toLocaleString(undefined, {maximumFractionDigits: 0})}B`;\n      } else if (parsedAmount >= 1_000_000) {\n        const millionsAmount = parsedAmount / 1_000_000;\n        return `${millionsAmount.toLocaleString(undefined, {maximumFractionDigits: 0})}M`;\n      } else if (parsedAmount >= 1_000) {\n        const thousandsAmount = parsedAmount / 1_000;\n        return `${thousandsAmount.toLocaleString(undefined, {maximumFractionDigits: 0})}k`;\n      } else {\n        return parsedAmount.toLocaleString(undefined, {maximumFractionDigits: 6});\n      }\n    } catch (error) {\n      console.error('Error formatting token amount:', error, 'Input:', amount);\n      return '0';\n    }\n  };\n// Add this function to fetch hint content from the API\nconst getHintContent = useCallback(async (hintIndex, userAddress) => {\n  try {\n    const response = await fetch(`/.netlify/functions/getHint?hintIndex=${hintIndex}&userAddress=${userAddress}`);\n    \n    if (response.ok) {\n      const data = await response.json();\n      return data.hintContent;\n    } else {\n      const error = await response.json();\n      console.error(\"Error fetching hint:\", error);\n      return \"Error retrieving hint\";\n    }\n  } catch (error) {\n    console.error(\"Error connecting to hint API:\", error);\n    return \"Unable to connect to hint server\";\n  }\n}, []); // Empty dependency array since it doesn't depend on external variables\n// Updated loadPurchasedHints function\nconst loadPurchasedHints = useCallback(async () => {\n  if (!jackpotContract || !accounts[0]) return;\n  \n  try {\n    const hintTotal = parseInt(await jackpotContract.methods.hintCount().call());\n    let purchased = [];\n    \n    // Concurrent hint access checks\n    const hintAccessPromises = Array.from({length: hintTotal}, async (_, i) => {\n      const hasAccess = await jackpotContract.methods.hasAccessToHint(accounts[0], i).call();\n      return hasAccess ? i : null;\n    });\n    \n    const hintAccess = await Promise.all(hintAccessPromises);\n    \n    purchased = hintAccess.filter(index => index !== null);\n    setPurchasedHints(purchased);\n    \n    // Set most recent hint if available\n    if (purchased.length > 0) {\n      const latestHintIndex = purchased[purchased.length - 1];\n      const hint = await getHintContent(latestHintIndex, accounts[0]);\n      setHintValue(hint);\n    }\n  } catch (error) {\n    console.error(\"Error loading purchased hints:\", error);\n  }\n}, [jackpotContract, accounts, getHintContent]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const loadContractData = useCallback(async (web3, jackpot, token, bondingCurve, account) => {\n    try {\n      setIsLoading(true);\n      setStatusMessage('Loading contract data...');\n  \n      // Use Promise.all for concurrent calls\n      const [\n        tokenBalance,\n        tokenSupply,\n        jackpotValue,\n        nextJackpotValue,\n        guessCost,\n        hintCost,\n        totalWinners,\n        uniquePlayers\n      ] = await Promise.all([\n        token.methods.balanceOf(account).call(),\n        token.methods.totalSupply().call(),\n        jackpot.methods.jackpotAmount().call(),\n        jackpot.methods.nextJackpotAmount().call(),\n        jackpot.methods.guessCost().call(),\n        jackpot.methods.hintCost().call(),\n        jackpot.methods.totalWinners().call(),\n        jackpot.methods.uniquePlayers().call()\n      ]);\n  \n      // Simplified state updates with less formatting\n      setTokenBalance(tokenBalance);\n      setTotalSupply(tokenSupply);\n      \n      // Simplified jackpot value handling\n      setJackpotValue(web3.utils.fromWei(jackpotValue, 'ether'));\n      setNextJackpotValue(web3.utils.fromWei(nextJackpotValue, 'ether'));\n      \n      // Direct conversion of token amounts\n      setGuessCost((window.BigInt(guessCost) / window.BigInt(10 ** 6)).toString());\n      setHintCost((window.BigInt(hintCost) / window.BigInt(10 ** 6)).toString());\n      \n      setTotalWinners(totalWinners);\n      setUniquePlayers(uniquePlayers);\n  \n      // Optional: Simplified bonding curve data (if needed)\n      try {\n        const poolInfo = await bondingCurve.methods.getPoolInfo().call();\n        setLiquidityValue(web3.utils.fromWei(poolInfo.actualS, 'ether'));\n        const currentPriceWei = await bondingCurve.methods.getCurrentPrice().call();\n        setTokenPrice(web3.utils.fromWei(currentPriceWei, 'ether'));\n      } catch (err) {\n        console.warn(\"Bonding curve data fetch failed:\", err);\n      }\n  \n      setStatusMessage('');\n    } catch (error) {\n      console.error(\"Contract data loading error:\", error);\n      setStatusMessage('Error loading data. Check connection.');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const buyTokens = async () => {\n    if (!bondingCurveContract || !web3 || !accounts[0] || !numTokens) {\n      setStatusMessage('Please connect wallet and enter token amount');\n      return;\n    }\n    \n    // Convert input to base units (directly use the input)\n    const numTokensBaseUnits = Math.floor(parseFloat(numTokens));\n    \n    try {\n      setIsLoading(true);\n      setStatusMessage('Calculating token price...');\n      \n      // Calculate buy price from the contract\n      const costWei = await bondingCurveContract.methods.calculateBuyPrice(numTokensBaseUnits).call();\n      \n      // Log for debugging\n      console.log('Num Tokens (Base Units):', numTokensBaseUnits);\n      console.log('Cost (Wei):', costWei);\n      console.log('Cost (Ether):', web3.utils.fromWei(costWei, 'ether'));\n      \n      setStatusMessage(`Buying tokens... Please confirm in MetaMask (${web3.utils.fromWei(costWei, 'ether')} S)`);\n      \n      await bondingCurveContract.methods.buy(numTokensBaseUnits).send({\n        from: accounts[0],\n        value: costWei\n      });\n      \n      setStatusMessage('Tokens purchased successfully!');\n      \n      // Reload contract data\n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error buying tokens:\", error);\n      setStatusMessage('Error buying tokens. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n  const sellTokens = async () => {\n    if (!bondingCurveContract || !web3 || !accounts[0] || !numTokens) {\n      setStatusMessage('Please connect wallet and enter token amount');\n      return;\n    }\n    \n    // Convert input to base units (directly use the input)\n    const numTokensBaseUnits = Math.floor(parseFloat(numTokens));\n    \n    try {\n      setIsLoading(true);\n      setStatusMessage('Preparing to sell tokens...');\n      \n      // Check if token is approved\n      const allowance = await tokenContract.methods.allowance(accounts[0], BONDING_CURVE_ADDRESS).call();\n  \n      // Calculate sell price\n      const sellPriceWei = await bondingCurveContract.methods.calculateSellPrice(numTokensBaseUnits).call();\n      \n      console.log('Num Tokens (Base Units):', numTokensBaseUnits);\n      console.log('Sell Price (Wei):', sellPriceWei);\n      console.log('Sell Price (Ether):', web3.utils.fromWei(sellPriceWei, 'ether'));\n      \n      // Check if token is approved for the correct amount\n      if (parseInt(allowance) < parseInt(web3.utils.toWei(numTokens, 'ether'))) {\n        // Approve tokens\n        setStatusMessage('Approving tokens for sale... Please confirm in MetaMask');\n        await tokenContract.methods.approve(BONDING_CURVE_ADDRESS, web3.utils.toWei(numTokens, 'ether')).send({\n          from: accounts[0]\n        });\n      }\n      \n      setStatusMessage(`Selling tokens... Please confirm in MetaMask (${web3.utils.fromWei(sellPriceWei, 'ether')} S)`);\n      \n      await bondingCurveContract.methods.sell(numTokensBaseUnits).send({\n        from: accounts[0]\n      });\n      \n      setStatusMessage('Tokens sold successfully!');\n      \n      // Reload contract data\n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error selling tokens:\", error);\n      setStatusMessage('Error selling tokens. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n  const getHint = async () => {\n    if (!jackpotContract || !web3 || !accounts[0]) {\n      setStatusMessage('Please connect wallet first');\n      return;\n    }\n    \n    try {\n      setIsLoading(true);\n      setStatusMessage('Preparing to get hint...');\n      \n      // Check if token is approved\n      const allowance = await tokenContract.methods.allowance(accounts[0], JACKPOT_ADDRESS).call();\n      const hintCostWei = await jackpotContract.methods.hintCost().call();\n      \n      if (parseInt(allowance) < parseInt(hintCostWei)) {\n        setStatusMessage('Approving tokens for hint... Please confirm in MetaMask');\n        await tokenContract.methods.approve(JACKPOT_ADDRESS, hintCostWei).send({\n          from: accounts[0]\n        });\n      }\n      \n      setStatusMessage('Purchasing hint... Please confirm in MetaMask');\n      \n      // Request hint - this records the purchase on-chain\n      await jackpotContract.methods.requestHint().send({\n        from: accounts[0]\n      });\n      \n      // Get the latest hint index\n      const hintIndex = parseInt(await jackpotContract.methods.hintCount().call()) - 1;\n      \n      // Verify purchase was recorded\n      const hasAccess = await jackpotContract.methods.hasAccessToHint(accounts[0], hintIndex).call();\n      \n      if (hasAccess) {\n        // Fetch hint from API\n        const hint = await getHintContent(hintIndex, accounts[0]);\n        setHintValue(hint);\n        \n        // Cache in localStorage for offline access\n        if (hint && !hint.startsWith(\"Error\") && !hint.startsWith(\"Unable\")) {\n          localStorage.setItem(`hint_${accounts[0]}_${hintIndex}`, hint);\n        }\n        \n        // Update purchased hints\n        setPurchasedHints(prev => [...prev, hintIndex]);\n        setStatusMessage('Hint purchased successfully!');\n      } else {\n        setStatusMessage('Error verifying hint purchase. Please try again.');\n      }\n      \n      // Reload token balance\n      const tokenBalanceWei = await tokenContract.methods.balanceOf(accounts[0]).call();\n      setTokenBalance(tokenBalanceWei);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error getting hint:\", error);\n      setStatusMessage('Error getting hint. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n\n  const makeGuess = async () => {\n    if (!jackpotContract || !web3 || !accounts[0] || !currentGuess) {\n      setStatusMessage('Please connect your wallet and enter a guess');\n      return;\n    }\n    \n    try {\n      setIsLoading(true);\n      setStatusMessage('Preparing to make a guess...');\n      \n      // First approve the tokens\n      const guessCostWei = await jackpotContract.methods.guessCost().call();\n      \n      setStatusMessage('Approving tokens for guess... Please confirm in MetaMask');\n      await tokenContract.methods.approve(JACKPOT_ADDRESS, guessCostWei).send({\n        from: accounts[0]\n      });\n      \n      setStatusMessage('Submitting guess... Please confirm in MetaMask');\n      \n      // Get the transaction receipt to check events\n      const tx = await jackpotContract.methods.singleStepGuess(currentGuess).send({\n        from: accounts[0]\n      });\n      \n      // Check the return value or events\n      // Web3.js doesn't automatically decode the return value from transactions\n      // So we need to look at events or make a separate call\n      \n      // Check if there's a JackpotWon event\n      const jackpotWonEvents = tx.events?.JackpotWon;\n      \n      if (jackpotWonEvents) {\n        setStatusMessage('Congratulations! Your guess was correct! You won the jackpot!');\n      } else {\n        // Look for GuessRevealed event\n        const guessEvents = tx.events?.GuessRevealed;\n        if (guessEvents) {\n          const wasCorrect = guessEvents.returnValues.won;\n          if (wasCorrect) {\n            setStatusMessage('Congratulations! Your guess was correct! You won the jackpot!');\n          } else {\n            setStatusMessage('Sorry, your guess was incorrect. Try again!');\n          }\n        } else {\n          // If we can't determine from events, make a direct call\n          setStatusMessage('Guess submitted, but couldn\\'t determine if it was correct.');\n        }\n      }\n      \n      await loadContractData(web3, jackpotContract, tokenContract, bondingCurveContract, accounts[0]);\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Error making guess:\", error);\n      setStatusMessage('Error submitting guess. Please try again.');\n      setIsLoading(false);\n    }\n  };\n\n\n// Updated renderHintHistory function\nconst renderHintHistory = () => {\n  if (purchasedHints.length === 0) return null;\n  \n  return (\n    <div className=\"hint-history\">\n      <h3>Your Purchased Hints</h3>\n      <ul>\n        {purchasedHints.map(index => {\n          const hintKey = `hint_${accounts[0]}_${index}`;\n          const hintContent = localStorage.getItem(hintKey) || \"Loading hint...\";\n          \n          return (\n            <li key={index} className=\"hint-item\">\n              <span className=\"hint-number\">Hint #{index + 1}:</span> {hintContent}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nuseEffect(() => {\n  const initWeb3 = async () => {\n    if (window.ethereum) {\n      try {\n        setStatusMessage('Connecting to blockchain...');\n        \n        // Request account access with timeout\n        const accounts = await Promise.race([\n          window.ethereum.request({ method: 'eth_requestAccounts' }),\n          new Promise((_, reject) => \n            setTimeout(() => reject(new Error('Connection timeout')), 10000)\n          )\n        ]);\n\n        if (accounts.length === 0) {\n          setStatusMessage('Please connect your wallet');\n          return;\n        }\n\n        const web3Instance = new Web3(window.ethereum);\n        \n        // Initialize contracts with minimal information first\n        const jackpotInstance = new web3Instance.eth.Contract(JackpotGameABI.abi, JACKPOT_ADDRESS);\n        const tokenInstance = new web3Instance.eth.Contract(Token100xABI.abi, TOKEN_ADDRESS);\n        const bondingCurveInstance = new web3Instance.eth.Contract(BondingCurveABI.abi, BONDING_CURVE_ADDRESS);\n        \n        // Set initial state\n        setWeb3(web3Instance);\n        setAccounts(accounts);\n        setJackpotContract(jackpotInstance);\n        setTokenContract(tokenInstance);\n        setBondingCurveContract(bondingCurveInstance);\n\n        // Load contract data\n        await loadContractData(web3Instance, jackpotInstance, tokenInstance, bondingCurveInstance, accounts[0]);\n      } catch (error) {\n        console.error(\"Web3 initialization error:\", error);\n        setStatusMessage(`Connection failed: ${error.message}`);\n      }\n    } else {\n      setStatusMessage('Please install a Web3 wallet like MetaMask');\n    }\n  };\n  \n  initWeb3();\n}, [JACKPOT_ADDRESS, TOKEN_ADDRESS, BONDING_CURVE_ADDRESS, loadContractData]);\n\n  useEffect(() => {\n    if (currentGuess && jackpotContract && web3 && accounts[0]) {\n      \n    }\n  }, [currentGuess, jackpotContract, web3, accounts]);\n\n  useEffect(() => {\n    if (jackpotContract && accounts.length > 0) {\n      loadPurchasedHints();\n    }\n  }, [jackpotContract, accounts, loadPurchasedHints]);\n\n  return (\n    <div className=\"app-container\">\n      <header className=\"app-header\">\n        <h1 className=\"title\">100X Jackpot Game</h1>\n        <p className=\"connected-wallet\">Connected: {accounts.length > 0 ? formatAddress(accounts[0]) : 'Not connected'}</p>\n        {statusMessage && <p className=\"status-message\">{statusMessage}</p>}\n      </header>\n      \n      <main className=\"app-main\">\n        <section className=\"game-section\">\n          <h2 className=\"section-title\">Jackpot Game</h2>\n          <div className=\"jackpot-info\">\n            <p className=\"info-item\">Current Jackpot: {jackpotValue} S</p>\n            <p className=\"info-item\">Next Jackpot: {nextJackpotValue} S</p>\n            <p className=\"info-item\">Guess Cost: {guessCost} 100X</p>\n            <p className=\"info-item\">Hint Cost: {hintCost} 100X</p>\n            <p className=\"info-item\">Unique Players: {uniquePlayers}</p>\n            <p className=\"info-item\">Total Winners: {totalWinners}</p>\n          </div>\n          \n          <div className=\"game-controls\">\n            <input \n              type=\"text\" \n              className=\"guess-input\"\n              placeholder=\"Enter your guess\" \n              value={currentGuess} \n              onChange={(e) => setCurrentGuess(e.target.value)}\n            />\n            <p className=\"guess-chance\">Type your guess carefully, letter case matters!</p>\n            <button \n              className=\"action-button make-guess-button\" \n              onClick={makeGuess}\n              disabled={isLoading}\n            >\n              Make Guess\n            </button>\n          </div>\n          \n          <div className=\"hint-section\">\n            <button \n              className=\"action-button hint-button\" \n              onClick={getHint}\n              disabled={isLoading}\n            >\n              Buy Hint\n            </button>\n            {hintValue && <p className=\"hint-value\">Hint: {hintValue}</p>}\n            {renderHintHistory()}\n          </div>\n        </section>\n        \n        <section className=\"token-section\">\n          <h2 className=\"section-title\">100X Token</h2>\n          <div className=\"token-info\">\n            <p className=\"info-item\">Your Balance: {formatTokenAmount(tokenBalance)} 100X</p>\n            <p className=\"info-item\">Total Supply: {formatTokenAmount(totalSupply)} 100X</p>\n            <p className=\"info-item\">Current Price: {tokenPrice} S</p>\n            <p className=\"info-item\">Liquidity Pool: {liquidityValue} S</p>\n          </div>\n          \n          <div className=\"token-controls\">\n            <div className=\"mode-toggle\">\n              <button \n                className={`toggle-button ${buySellMode === 'buy' ? 'active' : ''}`}\n                onClick={() => setBuySellMode('buy')}\n              >\n                Buy\n              </button>\n              <button \n                className={`toggle-button ${buySellMode === 'sell' ? 'active' : ''}`}\n                onClick={() => setBuySellMode('sell')}\n              >\n                Sell\n              </button>\n            </div>\n            \n            <input \n              type=\"number\" \n              className=\"token-amount-input\"\n              min=\"0\" \n              step=\"1\" \n              placeholder=\"Amount of tokens\" \n              value={numTokens} \n              onChange={(e) => setNumTokens(e.target.value)}\n            />\n            \n            {buySellMode === 'buy' ? (\n              <button \n                className=\"action-button buy-button\" \n                onClick={buyTokens}\n                disabled={isLoading}\n              >\n                Buy Tokens\n              </button>\n            ) : (\n              <button \n                className=\"action-button sell-button\" \n                onClick={sellTokens}\n                disabled={isLoading}\n              >\n                Sell Tokens\n              </button>\n            )}\n          </div>\n        </section>\n        \n       \n      </main>\n      \n      <footer className=\"app-footer\">\n        <p>DeFAI Hackathon Project - Sonic Chain - 2024</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}